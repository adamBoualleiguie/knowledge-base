@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* SigNoz Light Mode Colors */
    --background: 0 0% 100%;
    --foreground: 222.2 47.4% 11.2%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 47.4% 11.2%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 47.4% 11.2%;
    /* SigNoz Primary: #FF5E19 - Bright Orange for CTAs and highlights */
    --primary: 18 100% 55%;
    --primary-foreground: 0 0% 100%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 18 100% 55%;
    --radius: 0.5rem;
  }

  .dark {
    /* SigNoz Dark Mode Colors - Black background with blue-gray text */
    --background: 0 0% 0%;
    --foreground: 210 13% 81%;
    --card: 0 0% 0%;
    --card-foreground: 210 13% 81%;
    --popover: 0 0% 0%;
    --popover-foreground: 210 13% 81%;
    /* SigNoz Primary in Dark Mode - #FF5E19 with higher lightness for contrast */
    --primary: 18 100% 60%;
    --primary-foreground: 0 0% 100%;
    --secondary: 0 0% 7%;
    --secondary-foreground: 210 13% 81%;
    --muted: 0 0% 7%;
    --muted-foreground: 210 10% 65%;
    --accent: 0 0% 7%;
    --accent-foreground: 210 13% 81%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 15%;
    --input: 0 0% 15%;
    --ring: 18 100% 60%;
  }
}

* {
  @apply border-border;
}

body {
  @apply bg-background text-foreground;
  font-feature-settings: "rlig" 1, "calt" 1;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

code, pre {
  font-family: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
}

/* Typography - SigNoz Style */
.prose {
  @apply text-foreground text-base;
}

.prose h1 {
  @apply text-3xl font-bold tracking-tight mb-4 mt-8 first:mt-0 scroll-mt-20;
}

.prose h2 {
  @apply text-2xl font-semibold tracking-tight mt-10 mb-3 scroll-mt-20;
}

.prose h3 {
  @apply text-xl font-semibold tracking-tight mt-8 mb-3 scroll-mt-20;
}

.prose h4 {
  @apply text-lg font-semibold tracking-tight mt-6 mb-2 scroll-mt-20;
}

.prose p {
  @apply mb-4 leading-7 text-[15px];
}

.prose ul,
.prose ol {
  @apply mb-6 ml-6;
}

.prose li {
  @apply mb-2;
}

.prose a {
  @apply text-primary hover:text-primary/80 underline underline-offset-4 transition-colors font-medium;
}

.prose strong {
  @apply font-semibold;
}

.prose blockquote {
  @apply border-l-4 border-primary pl-4 italic my-6;
}

.prose hr {
  @apply my-8 border-border;
}

/* Code block styles - Enhanced with Shiki */
.prose pre {
  @apply my-6;
  background: transparent !important;
  padding: 0 !important;
  border: none !important;
}

.prose code {
  @apply rounded px-1.5 py-0.5 text-sm font-mono;
}

.prose pre code {
  @apply bg-transparent p-0 border-0;
  background: transparent !important;
  color: inherit !important;
}

.prose :not(pre) > code {
  background-color: rgba(59, 130, 246, 0.2);
  color: rgb(147, 197, 253);
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.dark .prose :not(pre) > code {
  background-color: rgba(59, 130, 246, 0.3);
  color: rgb(147, 197, 253);
  border: 1px solid rgba(59, 130, 246, 0.4);
}

/* Inline code highlighting - SigNoz style */
.inline-code-highlight {
  @apply rounded px-1.5 py-0.5 text-sm font-mono;
  background-color: rgba(59, 130, 246, 0.2);
  color: rgb(147, 197, 253);
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.dark .inline-code-highlight {
  background-color: rgba(59, 130, 246, 0.3);
  color: rgb(147, 197, 253);
  border: 1px solid rgba(59, 130, 246, 0.4);
}

/* Callout styles */
.prose-callout {
  @apply text-foreground;
}

.prose-callout p {
  @apply mb-2 last:mb-0;
}

.prose-callout code {
  background-color: rgba(59, 130, 246, 0.25);
  color: rgb(147, 197, 253);
  border: 1px solid rgba(59, 130, 246, 0.4);
}

/* Shiki code block styles - SigNoz style */
.shiki {
  @apply overflow-x-auto;
  font-family: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Monaco, Consolas, monospace !important;
  background: #0d1117 !important;
  color: #c9d1d9 !important;
  margin: 0;
  padding: 1rem;
  border-radius: 0.5rem;
  font-size: 14px;
  line-height: 1.75;
}

/* Shiki generates: <pre class="shiki"><code>...</code></pre> */
.shiki pre {
  @apply m-0 p-0 bg-transparent;
  background: transparent !important;
  overflow: visible;
  font-size: inherit;
  line-height: inherit;
}

.shiki code {
  @apply block;
  background: transparent !important;
  color: #c9d1d9 !important;
  font-family: inherit !important;
  padding: 0;
  font-size: inherit;
  line-height: inherit;
  display: block;
  width: 100%;
}

/* Shiki wraps content in spans - preserve its inline styles for syntax highlighting */
.shiki code span {
  color: inherit;
}

/* Ensure code is visible */
.shiki,
.shiki code,
.shiki pre {
  color: #c9d1d9 !important;
}

/* Anchor links - SigNoz style */
.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
  @apply relative;
  position: relative;
  padding-left: 0;
}

.prose .anchor {
  @apply opacity-0 transition-opacity duration-200 no-underline inline-flex items-center justify-center;
  position: absolute;
  left: -28px;
  top: 50%;
  transform: translateY(-50%);
  width: 20px;
  height: 20px;
  color: hsl(var(--primary));
  text-decoration: none;
  border-radius: 4px;
}

.prose .anchor:hover {
  @apply opacity-100;
  background-color: hsl(var(--muted));
  color: hsl(var(--primary));
}

.prose h1:hover .anchor,
.prose h2:hover .anchor,
.prose h3:hover .anchor,
.prose h4:hover .anchor,
.prose h5:hover .anchor,
.prose h6:hover .anchor {
  @apply opacity-100;
}

.prose .anchor-icon {
  @apply flex-shrink-0;
  width: 16px;
  height: 16px;
  color: hsl(var(--primary));
  stroke: currentColor;
  fill: none;
}

.prose .anchor:focus {
  @apply opacity-100 outline-none;
  color: hsl(var(--primary));
  background-color: hsl(var(--muted));
}

/* Adjust heading padding to accommodate anchor */
.prose h1 {
  @apply pl-0;
  padding-left: 0;
}

.prose h2 {
  @apply pl-0;
  padding-left: 0;
}

.prose h3 {
  @apply pl-0;
  padding-left: 0;
}

.prose h4 {
  @apply pl-0;
  padding-left: 0;
}

/* Ensure headings have IDs for TOC */
.prose h2[id],
.prose h3[id],
.prose h4[id] {
  scroll-margin-top: 5rem;
}

/* Tables */
.prose table {
  @apply w-full border-collapse my-6;
}

.prose th {
  @apply border border-border bg-muted px-4 py-2 text-left font-semibold;
}

.prose td {
  @apply border border-border px-4 py-2;
}

/* Images */
.prose img {
  @apply rounded-lg border border-border bg-muted/30;
  max-width: 100%;
  height: auto;
  object-fit: contain;
}

.prose figure {
  @apply my-8;
}

.prose figcaption {
  @apply mt-3 text-sm text-muted-foreground text-center italic;
}

/* Videos */
.prose video {
  @apply rounded-lg border border-border bg-muted/30;
  max-width: 100%;
  height: auto;
}

/* Loading animation */
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

.loading-shimmer {
  animation: shimmer 2s infinite;
  background: linear-gradient(
    to right,
    transparent 0%,
    rgba(255, 255, 255, 0.1) 50%,
    transparent 100%
  );
  background-size: 1000px 100%;
}

/* Smooth transitions */
* {
  @apply transition-colors duration-200;
}

/* Excalidraw styling - Hide default UI elements */
.excalidraw-container {
  width: 100%;
  height: 100%;
  position: relative;
}

/* Hide ALL Excalidraw default UI elements including grey top bar */
.excalidraw-container .App-menu_top,
.excalidraw-container .App-menu_bottom,
.excalidraw-container .Island,
.excalidraw-container .layer-ui__wrapper__top-right,
.excalidraw-container .layer-ui__wrapper__top-left,
.excalidraw-container .layer-ui__wrapper,
.excalidraw-container .ToolButton,
.excalidraw-container .ToolIcon,
.excalidraw-container .zen-mode-transition,
.excalidraw-container [data-testid="canvas-actions-menu"],
.excalidraw-container .App-toolbar,
.excalidraw-container .App-menu {
  display: none !important;
}

/* Hide any grey bars or UI overlays */
.excalidraw-container .layer-ui__wrapper__top,
.excalidraw-container .layer-ui__wrapper__bottom,
.excalidraw-container .layer-ui__wrapper__right,
.excalidraw-container .layer-ui__wrapper__left {
  display: none !important;
}

/* Hide the grey SVGLayer div */
.excalidraw-container .SVGLayer {
  display: none !important;
}

/* Ensure canvas is visible and centered */
.excalidraw-container .canvas-container {
  width: 100% !important;
  height: 100% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Hide scrollbar but keep scrolling functionality */
.hide-scrollbar {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;  /* Chrome, Safari and Opera */
}

/* Highlight Marker - Animated text highlighting */
.highlight-marker {
  position: relative;
  padding: 0.15em 0.25em;
  margin: 0 0.1em;
  border-radius: 0.25em;
  display: inline;
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
  overflow: hidden;
  color: inherit;
}

/* Default state - COMPLETELY HIDDEN (no background, no visual effect) */
.highlight-marker::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: -1;
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  border-radius: 0.25em;
}

.highlight-marker.highlight-yellow::before {
  background-color: rgba(255, 235, 59, 0.5);
}

.highlight-marker.highlight-orange::before {
  background-color: rgba(255, 152, 0, 0.5);
}

.highlight-marker.highlight-blue::before {
  background-color: rgba(33, 150, 243, 0.5);
}

.highlight-marker.highlight-green::before {
  background-color: rgba(76, 175, 80, 0.5);
}

.highlight-marker.highlight-purple::before {
  background-color: rgba(156, 39, 176, 0.5);
}

/* Active state - reveal from left to right */
.highlight-marker.highlight-active::before {
  transform: scaleX(1);
  animation: highlight-draw 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Active state - add glow effect after reveal */
.highlight-marker.highlight-active.highlight-yellow::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: -1;
  border-radius: 0.25em;
  box-shadow: 0 0 0 2px rgba(255, 235, 59, 0.3), 0 2px 8px rgba(255, 235, 59, 0.2);
  animation: highlight-pulse-yellow 2s ease-in-out infinite;
  pointer-events: none;
}

.highlight-marker.highlight-active.highlight-orange::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: -1;
  border-radius: 0.25em;
  box-shadow: 0 0 0 2px rgba(255, 152, 0, 0.3), 0 2px 8px rgba(255, 152, 0, 0.2);
  animation: highlight-pulse-orange 2s ease-in-out infinite;
  pointer-events: none;
}

.highlight-marker.highlight-active.highlight-blue::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: -1;
  border-radius: 0.25em;
  box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.3), 0 2px 8px rgba(33, 150, 243, 0.2);
  animation: highlight-pulse-blue 2s ease-in-out infinite;
  pointer-events: none;
}

.highlight-marker.highlight-active.highlight-green::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: -1;
  border-radius: 0.25em;
  box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.3), 0 2px 8px rgba(76, 175, 80, 0.2);
  animation: highlight-pulse-green 2s ease-in-out infinite;
  pointer-events: none;
}

.highlight-marker.highlight-active.highlight-purple::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: -1;
  border-radius: 0.25em;
  box-shadow: 0 0 0 2px rgba(156, 39, 176, 0.3), 0 2px 8px rgba(156, 39, 176, 0.2);
  animation: highlight-pulse-purple 2s ease-in-out infinite;
  pointer-events: none;
}

/* Dark mode adjustments */
.dark .highlight-marker.highlight-yellow::before {
  background-color: rgba(255, 235, 59, 0.4);
}

.dark .highlight-marker.highlight-orange::before {
  background-color: rgba(255, 152, 0, 0.4);
}

.dark .highlight-marker.highlight-blue::before {
  background-color: rgba(33, 150, 243, 0.4);
}

.dark .highlight-marker.highlight-green::before {
  background-color: rgba(76, 175, 80, 0.4);
}

.dark .highlight-marker.highlight-purple::before {
  background-color: rgba(156, 39, 176, 0.4);
}

.dark .highlight-marker.highlight-active.highlight-yellow::after {
  box-shadow: 0 0 0 2px rgba(255, 235, 59, 0.4), 0 2px 12px rgba(255, 235, 59, 0.3);
}

.dark .highlight-marker.highlight-active.highlight-orange::after {
  box-shadow: 0 0 0 2px rgba(255, 152, 0, 0.4), 0 2px 12px rgba(255, 152, 0, 0.3);
}

.dark .highlight-marker.highlight-active.highlight-blue::after {
  box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.4), 0 2px 12px rgba(33, 150, 243, 0.3);
}

.dark .highlight-marker.highlight-active.highlight-green::after {
  box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.4), 0 2px 12px rgba(76, 175, 80, 0.3);
}

.dark .highlight-marker.highlight-active.highlight-purple::after {
  box-shadow: 0 0 0 2px rgba(156, 39, 176, 0.4), 0 2px 12px rgba(156, 39, 176, 0.3);
}

/* Draw animation - left to right reveal like highlighting with a marker */
@keyframes highlight-draw {
  0% {
    transform: scaleX(0);
    transform-origin: left;
  }
  100% {
    transform: scaleX(1);
    transform-origin: left;
  }
}

/* Pulse animations for active highlights */
@keyframes highlight-pulse-yellow {
  0%, 100% {
    box-shadow: 0 0 0 2px rgba(255, 235, 59, 0.3), 0 2px 8px rgba(255, 235, 59, 0.2);
  }
  50% {
    box-shadow: 0 0 0 3px rgba(255, 235, 59, 0.4), 0 4px 12px rgba(255, 235, 59, 0.3);
  }
}

@keyframes highlight-pulse-orange {
  0%, 100% {
    box-shadow: 0 0 0 2px rgba(255, 152, 0, 0.3), 0 2px 8px rgba(255, 152, 0, 0.2);
  }
  50% {
    box-shadow: 0 0 0 3px rgba(255, 152, 0, 0.4), 0 4px 12px rgba(255, 152, 0, 0.3);
  }
}

@keyframes highlight-pulse-blue {
  0%, 100% {
    box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.3), 0 2px 8px rgba(33, 150, 243, 0.2);
  }
  50% {
    box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.4), 0 4px 12px rgba(33, 150, 243, 0.3);
  }
}

@keyframes highlight-pulse-green {
  0%, 100% {
    box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.3), 0 2px 8px rgba(76, 175, 80, 0.2);
  }
  50% {
    box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.4), 0 4px 12px rgba(76, 175, 80, 0.3);
  }
}

@keyframes highlight-pulse-purple {
  0%, 100% {
    box-shadow: 0 0 0 2px rgba(156, 39, 176, 0.3), 0 2px 8px rgba(156, 39, 176, 0.2);
  }
  50% {
    box-shadow: 0 0 0 3px rgba(156, 39, 176, 0.4), 0 4px 12px rgba(156, 39, 176, 0.3);
  }
}

/* Terminal Component Styles */
.terminal-container {
  position: relative;
}

.terminal-window {
  background: #0d1117;
  color: #c9d1d9;
  font-family: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
}

.terminal-header {
  background: #161b22;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.terminal-body {
  background: #0d1117;
  min-height: 100px;
  max-height: 600px;
  overflow-y: auto;
  line-height: 1.6;
}

.terminal-cursor {
  display: inline-block;
  background-color: #58a6ff;
  color: #58a6ff;
  animation: terminal-blink 1s infinite;
  margin-left: 2px;
}

@keyframes terminal-blink {
  0%, 50% {
    opacity: 1;
  }
  51%, 100% {
    opacity: 0;
  }
}

/* Terminal scrollbar styling */
.terminal-body::-webkit-scrollbar {
  width: 8px;
}

.terminal-body::-webkit-scrollbar-track {
  background: #161b22;
}

.terminal-body::-webkit-scrollbar-thumb {
  background: #30363d;
  border-radius: 4px;
}

.terminal-body::-webkit-scrollbar-thumb:hover {
  background: #484f58;
}

/* Homepage animations */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-in-from-bottom {
  from {
    transform: translateY(1rem);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes wave {
  0%, 100% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(20deg);
  }
  75% {
    transform: rotate(-20deg);
  }
}

.animate-wave {
  animation: wave 0.5s ease-in-out infinite;
}

.animate-fade-in {
  animation: fade-in 0.7s ease-out;
}

/* Tailwind-compatible animation utilities */
@layer utilities {
  .animate-in {
    animation-fill-mode: both;
  }
  
  .fade-in {
    animation: fade-in 0.7s ease-out;
  }
  
  .slide-in-from-bottom-4 {
    animation: slide-in-from-bottom 0.7s ease-out;
  }
  
  .slide-in-from-bottom-8 {
    animation: slide-in-from-bottom 1s ease-out;
  }
  
  .duration-700 {
    animation-duration: 700ms;
  }
  
  .duration-1000 {
    animation-duration: 1000ms;
  }
  
  .delay-200 {
    animation-delay: 200ms;
  }
  
  .delay-300 {
    animation-delay: 300ms;
  }
  
  .delay-400 {
    animation-delay: 400ms;
  }
  
  .delay-500 {
    animation-delay: 500ms;
  }
  
  .animate-spin-slow {
    animation: spin 3s linear infinite;
  }
  
  .animate-spin-reverse {
    animation: spin-reverse 1.5s linear infinite;
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes spin-reverse {
  from {
    transform: rotate(360deg);
  }
  to {
    transform: rotate(0deg);
  }
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

@keyframes shimmer-gradient {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.animate-shimmer {
  animation: shimmer-gradient 2s infinite;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.15) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
}

